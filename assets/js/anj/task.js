function setText(a){var e=$(a).text();$(a).val();$("#txt_search").val(e),$("#searchResult").empty()}function check_date(){if(new Date($("#StartDate").val())>new Date($("#EndDate").val()))return alert("Please ensure that the Deadline Date is greater than or equal to the Start Date."),$("#EndDate").val(""),!1}function showRemaining_manish(a,e){var t,o=new Date(a),r=1e3,n=60*r,c=60*n,l=24*c;t=setInterval(function(){var a=new Date,s=o-a;if(s<0)return clearInterval(t),void(document.getElementById(e).innerHTML="DEADLINE EXPIRED!");var d=Math.floor(s/l),i=Math.floor(s%l/c),_=Math.floor(s%c/n),p=Math.floor(s%n/r);document.getElementById(e).innerHTML="Time Remaining ",document.getElementById(e).innerHTML=d+" days ",document.getElementById(e).innerHTML+=i+" hrs ",document.getElementById(e).innerHTML+=_+" mins ",document.getElementById(e).innerHTML+=p+" secs"},1e3)}function hold_project_name(a){$.ajax({url:main_url+"ajax_task/hold_project_name",type:"POST",data:{checkbox_projectholdVAL:[],project_id:a,projectID:$("#projectID").val(),projectNAME:$("#projectNAME").val(),projectASSIGN:$("#projectASSIGN").val(),projectMain_user_id:$("#projectMain_user_id").val(),projectCombo_id:$("#projectCombo_id").val(),project_type_status:$("#project_type_status").val()},dataType:"html",cache:!1,success:function(a){localStorage.setItem("status",3),window.location.href=main_url_dashboard+a}})}function completed_project(a){$.ajax({url:main_url+"ajax_task/completed_project",type:"POST",data:{project_id:a,projectID:$("#projectID").val(),projectNAME:$("#projectNAME").val(),projectASSIGN:$("#projectASSIGN").val(),projectMain_user_id:$("#projectMain_user_id").val(),projectCombo_id:$("#projectCombo_id").val()},dataType:"html",cache:!1,success:function(a){localStorage.setItem("status",2),window.location.href=main_url_dashboard+a}})}function delete_project(a){$.ajax({url:main_url+"ajax_task/delete_project",type:"POST",data:{checkbox_projectdelVAL:[],project_id:a,projectID:$("#projectID").val(),projectNAME:$("#projectNAME").val(),projectASSIGN:$("#projectASSIGN").val(),projectMain_user_id:$("#projectMain_user_id").val(),projectCombo_id:$("#projectCombo_id").val()},dataType:"html",cache:!1,success:function(a){localStorage.setItem("status",4),window.location.href=main_url_dashboard+a}})}function change_password(){$(".error").hide();var a=!1,e=$("#old_password").val(),t=$("#password").val(),o=$("#confirm_password").val();if(""==e?($("#old_password").after('<span class="error text-danger"><em>Please  enter your current password.</em></span>'),a=!0):""==t?($("#password").after('<span class="error text-danger"><em>Please enter a password.</em></span>'),a=!0):""==o?($("#confirm_password").after('<span class="error text-danger"><em>Please re-enter your password.</em></span>'),a=!0):t!=o&&($("#confirm_password").after('<span class="error text-danger"><em>Passwords do not match.</em></span>'),a=!0),1==a)return!1;0==a&&$.ajax({url:main_url+"login/change_password",type:"POST",dataType:"json",data:{old_password:e,password:t,confirm_password:o},beforeSend:function(){swal("password change","password change.","success")},success:function(a){console.log(a),$("#form1_box").show(),1===a.code?$("#form1_box").removeClass("alert-success").addClass("alert-danger").removeClass("hidden").html(a.msg):($("#form1_box").removeClass("alert-danger").addClass("alert-success").removeClass("hidden").html(a.msg),$(".alert-success").html(a.msg),jQuery("#userChangePWModal").modal("hide")),project_status_check(),all_function_call()}})}function onlyNumber(a){var e=a.which?a.which:event.keyCode;return!(e>31&&(e<48||e>57))}function showImg(a){if(a.files&&a.files[0]){var e=new FileReader;e.onload=function(a){$("#onChangeImg").attr("src",a.target.result),$("#onChangeImg1").attr("src",a.target.result)},e.readAsDataURL(a.files[0])}}function showImgAttachment(a){if(a.files&&a.files[0]){var e=new FileReader;e.onload=function(a){$("#edit_task_fileOLD_img").attr("src",a.target.result)},e.readAsDataURL(a.files[0])}}function validateImage(a){var e=new FormData,t=document.getElementById("background_image_name").files[0];e.append("Filedata",t);var o=t.type.split("/").pop().toLowerCase();if("jpeg"!=o&&"jpg"!=o&&"png"!=o&&"gif"!=o)return alert("Please select a valid image file"),document.getElementById("background_image_name").value="",!1;if(a.files&&a.files[0]){var r=new FileReader;r.onload=function(a){$("#onChangeImg").attr("src",a.target.result),$("#onChangeImg1").attr("src",a.target.result)},r.readAsDataURL(a.files[0])}return!0}function copy_to_status(a){var e=a.getAttribute("tablename"),t=a.getAttribute("statusRow_id"),o=$("#project_id_new_INSERT").val();if("tbl_status"==e)var r=main_url+"boards/copyStatus";else if("tbl_task"==e)r=main_url+"boards/copyTask";$.ajax({url:r,type:"POST",dataType:"html",data:{status_id:t,project_id:o,projectCombo_id:$("#projectCombo_id").val()},success:function(a){project_status_check(),all_function_call()}})}function inviteCopyLink_validation(){alert("please add project after add team")}function inviteCopyLink(){var a=$("#projectID").val(),e=$("#projectNAME").val(),t=$("#projectASSIGN").val(),o=$("#projectMain_user_id").val(),r=$("#projectCombo_id").val();$("#inviteCopyLink").val(main_url+"Invite/anj/"+a+"/"+e+"/"+t+"/"+o+"/"+r)}function delete_to_status(a){$("#status_id_delete").val(a.getAttribute("statusRow_id")),$("#tablename").val(a.getAttribute("tablename"))}function submit_delete_to_status(){var a=$("#status_id_delete").val(),e=$("#project_id_new_INSERT").val(),t=$("#tablename").val();if("tbl_status"==t)var o=main_url+"boards/deleteStatus";else o=main_url+"boards/deleteTask";$.ajax({url:o,type:"POST",dataType:"html",data:{status_id:a,tablename:t,project_id:e,projectCombo_id:$("#projectCombo_id").val()},cache:!1,success:function(a){project_status_check(),all_function_call(),jQuery("#deleteCardModal").modal("hide")}})}function rename_to_status(a){$("#status_id_rename").val(a.getAttribute("statusRow_id")),$("#status_name").val(a.getAttribute("status_name")),$("#tablenameStatus").val(a.getAttribute("tablename"))}function submit_new_status(a){var e=$("#status_name_new").val(),t=$("#project_id_new_INSERT").val(),o=main_url+"boards/addStatus";$.ajax({url:o,type:"POST",dataType:"html",data:{status_name:e,project_id:t,projectID:$("#projectID").val(),projectNAME:$("#projectNAME").val(),projectASSIGN:$("#projectASSIGN").val(),projectMain_user_id:$("#projectMain_user_id").val(),projectCombo_id:$("#projectCombo_id").val()},cache:!1,success:function(a){document.getElementsByName("frm_addstatus")[0].reset(),project_status_check(),all_function_call(),jQuery("#newstatusModal").modal("hide")}})}function add_new_task(a){$("#status_id_first").val(a)}function submit_title_new(){var a=main_url+"boards/addTask",e=$("#project_id_new_INSERT").val();$.ajax({url:a,type:"POST",dataType:"html",data:{status_id:$("#status_id_first").val(),title:$("#title_new").val(),priority:$("#priority_new").val(),project_id:e,projectID:$("#projectID").val(),projectNAME:$("#projectNAME").val(),projectASSIGN:$("#projectASSIGN").val(),projectMain_user_id:$("#projectMain_user_id").val(),projectCombo_id:$("#projectCombo_id").val()},cache:!1,success:function(a){$("#title_new").val(""),project_status_check(),all_function_call(),jQuery("#anotherCardModal").modal("hide")}})}function submit_rename_to_status(){var a=$("#status_name").val(),e=$("#status_id_rename").val(),t=$("#tablenameStatus").val(),o=$("#project_id_new_INSERT").val();if(""==e)var r=main_url+"boards/addStatus";else if("tbl_status"==t)r=main_url+"boards/renameStatus";else r=main_url+"boards/renameTask";$.ajax({url:r,type:"POST",dataType:"html",data:{status_id:e,status_name:a,project_id:o,projectCombo_id:$("#projectCombo_id").val()},cache:!1,success:function(a){project_status_check(),all_function_call(),jQuery("#anotherListModal").modal("hide")}})}function submit_move_to_status(){var a=$("#orderBY").val(),e=$("#status_id").val(),t=$("#project_id_new_INSERT").val();$.ajax({url:main_url+"boards/moveStatus",type:"POST",dataType:"html",data:{status_id:e,orderBY:a,project_id:t,projectCombo_id:$("#projectCombo_id").val()},success:function(a){project_status_check(),all_function_call(),jQuery("#moveCardModal").modal("hide")}})}function move_to_status(a){$("#orderBY").val(a.getAttribute("orderBY")),$("#status_id").val(a.getAttribute("statusRow_id"))}$(document).ready(function(){$("#upload").on("click",function(){var a=$("#mobile_no").val(),e=$("#pictureOLD").val(),t=$("#username").val(),o=$("#first_name").val(),r=$("#email").val(),n=$("#projectID").val(),c=$("#projectNAME").val(),l=$("#projectASSIGN").val(),s=$("#projectMain_user_id").val(),d=$("#picture").prop("files")[0],i=new FormData;i.append("picture",d),i.append("mobile_no",a),i.append("pictureOLD",e),i.append("username",t),i.append("projectID",n),i.append("projectNAME",c),i.append("projectASSIGN",l),i.append("projectMain_user_id",s),i.append("first_name",o),i.append("email",r),i.append("projectCombo_id",$("#projectCombo_id").val()),$.ajax({url:main_url+"ajax/ajaxfileupload",dataType:"text",cache:!1,contentType:!1,processData:!1,data:i,type:"post",success:function(a){project_status_check(),all_function_call(),jQuery("#userProfileModal").modal("hide"),window.location.href=n?main_url_dashboard+a:main_url_dashboard},error:function(a){console.log(a)}})}),$("#upload_background").on("click",function(){var a=$("#background_color_name").val(),e=$("#background_image_nameOLD").val(),t=$("#projectID").val(),o=$("#background_image_name").prop("files")[0],r=new FormData;r.append("background_image_name",o),r.append("background_color_name",a),r.append("background_image_nameOLD",e),r.append("projectID",t),console.log(r),$.ajax({url:main_url+"ajax/ajaxfileupload_background",dataType:"json",cache:!1,contentType:!1,processData:!1,data:r,type:"post",success:function(a){project_status_check(),all_function_call(),jQuery("#userChangebgModal").modal("hide"),$("#showupload_background").empty()},complete:function(a){$("#showupload_background").hide()},error:function(a){console.log(a)}})}),$("#serach_any_dataa").on("input",function(){var a={};a.url=main_url+"ajax_task/get_search_data",a.type="GET",a.data={serach_any_data:$("#serach_any_data").val()},a.dataType="json",a.success=function(a){console.log(a),$("#datalistOptions").empty();for(var e=0;e<a.length;e++)$("#datalistOptions").append("<option value='"+a[e].project_name+"'></option>")},$.ajax(a)});var a=new ClipboardJS(".inviteCopyLink");a.on("success",function(a){console.log(a)}),a.on("error",function(a){console.log(a)}),$("#due_date1").datepicker({format:"yyyy-mm-dd"}),$("#serach_any_data123").keyup(function(){var a=$(this).val();$("#search_data").html(""),""!=a&&$.ajax({url:main_url+"ajax_comman/serach_any_data",type:"post",dataType:"html",data:{search:a,type:1},success:function(a){console.log(a),a?$("#search_data").html(a):$("#search_data").html("")}})}),$("#txt_search").keyup(function(){var a=$(this).val();""!=a&&$.ajax({url:main_url+"ajax_task/getSearch",type:"post",data:{search:a,type:1},dataType:"json",success:function(a){var e=a.length;$("#searchResult").empty();for(var t=0;t<e;t++){var o=a[t].email;$("#searchResult").append("<li value='"+o+"'>"+o+"</li>")}$("#searchResult li").bind("click",function(){setText(this)})}})}),$("#txtsearch").keyup(function(){var a=$(this).val();alert(a),""!=a&&$.ajax({url:main_url+"ajax_task/getSearch",type:"post",data:{search:a,type:1},dataType:"json",success:function(a){var e=a.length;$("#searchResultadd").empty();for(var t=0;t<e;t++){var o=a[t].email;$("#searchResultadd").append("<li value='"+o+"'>"+o+"</li>")}$("#searchResultadd li").bind("click",function(){setText(this)})}})})}),$("#runningProjectList").val($("#project_id_new_INSERT").val()),$("#holdProjectList").val($("#project_id_new_INSERT").val()),$("#canceledProjectList").val($("#project_id_new_INSERT").val()),$("#completedProjectList").val($("#project_id_new_INSERT").val()),$("#runningProjectList").change(function(){var a=$(this).val(),e=$(this).find("option:selected").data("project_name"),t=$(this).find("option:selected").data("user_id"),o=$(this).find("option:selected").data("combo_id");$.ajax({url:main_url+"ajax/runningProjectList",type:"POST",dataType:"html",data:{runningProjectList:a,project_name:e,projectMain_user_id:t,projectCombo_id:o},cache:!1,success:function(e){window.location.href=a?main_url_dashboard+e:main_url_dashboard}})}),$("#holdProjectList").change(function(){var a=$(this).val(),e=$(this).find("option:selected").data("project_name"),t=$(this).find("option:selected").data("user_id");$.ajax({url:main_url+"ajax/holdProjectList",type:"POST",dataType:"html",data:{holdProjectList:a,project_name:e,projectMain_user_id:t,projectCombo_id:$(this).find("option:selected").data("combo_id")},cache:!1,success:function(e){window.location.href=a?main_url_dashboard+e:main_url_dashboard}})}),$("#canceledProjectList").change(function(){var a=$(this).val(),e=$(this).find("option:selected").data("project_name"),t=$(this).find("option:selected").data("user_id");$.ajax({url:main_url+"ajax/canceledProjectList",type:"POST",dataType:"html",data:{canceledProjectList:a,project_name:e,projectMain_user_id:t,projectCombo_id:$(this).find("option:selected").data("combo_id")},cache:!1,success:function(e){window.location.href=a?main_url_dashboard+e:main_url_dashboard}})}),$("#completedProjectList").change(function(){var a=$(this).val(),e=$(this).find("option:selected").data("project_name"),t=$(this).find("option:selected").data("user_id");$.ajax({url:main_url+"ajax/completedProjectList",type:"POST",dataType:"html",data:{completedProjectList:a,project_name:e,projectMain_user_id:t,projectCombo_id:$(this).find("option:selected").data("combo_id")},cache:!1,success:function(e){window.location.href=a?main_url_dashboard+e:main_url_dashboard}})}),$("#completedProjectCardModal").on("show.bs.modal",function(a){$(a.relatedTarget);$.ajax({url:main_url+"ajax_task/get_completed_project_list",type:"POST",data:{project_id:$("#project_id_new_INSERT").val(),projectCombo_id:$("#projectCombo_id").val()},dataType:"html",cache:!1,success:function(a){$("#completed_project_name").html(a),$("#loader").empty()}})}),$("#holdProjectCardModal").on("show.bs.modal",function(a){$(a.relatedTarget);var e=$("#projectNAME").val();if(e=e.replace(/-/g," ").toLowerCase(),"hold"==$(a.relatedTarget).data("projecthold")){var t="hold";$("#holdProjectCardModalLabel").text("Hold this project"),$("#buttonnamechange_hold").text("Hold")}else if("running"==$(a.relatedTarget).data("projecthold")){t="running";$("#holdProjectCardModalLabel").text("Unhold this project"),$("#buttonnamechange_hold").text("Unhold")}$.ajax({url:main_url+"ajax_task/get_hold_project_list",type:"POST",data:{project_type_status:t,project_id:$("#project_id_new_INSERT").val(),projectCombo_id:$("#projectCombo_id").val()},dataType:"html",cache:!1,success:function(a){$("#hold_project_name").html(a),$("#loader").empty()}})}),$("#deleteProjectCardModal").on("show.bs.modal",function(a){$(a.relatedTarget);var e=$("#projectNAME").val();e=e.replace(/-/g," "),$.ajax({url:main_url+"ajax_task/get_delete_project_list",type:"POST",data:{project_id:$("#project_id_new_INSERT").val(),projectCombo_id:$("#projectCombo_id").val()},dataType:"html",cache:!1,success:function(a){$("#delete_project_name").html(a),$("#loader").empty()}})}),$("#addProjectCardModal").on("show.bs.modal",function(a){"add"==$(a.relatedTarget).data("project")?($("#addProjectCardModalLabel").text("Add new project"),$("#submit").text("Create Project"),$("#project_name").val(""),$("#client_id").val(""),$("#StartDate").val(""),$("#EndDate").val(""),$("#project_description").val(""),$("#category").val("")):"edit"==$(a.relatedTarget).data("project")&&($("#addProjectCardModalLabel").text("Edit this project"),$("#submit").text("Update Project"),$.ajax({url:main_url+"ajax_task/get_project_details_id",type:"POST",data:{project_id:$("#project_id_new_INSERT").val(),projectCombo_id:$("#projectCombo_id").val()},dataType:"json",cache:!1,success:function(a){$("#edit_project_id").val(a.project_id),$("#project_name").val(a.project_name),$("#client_id").val(a.client_id),$("#category").val(a.category),$("#project_description").val(a.project_description),$("#StartDate").val(a.start_date),$("#EndDate").val(a.deadline),$("#project_description").val(a.project_description);main_url,a.project_documentation;$("#project_documentationOLD").val(a.project_documentation)}}))}),$("#change_background_ci").change(function(){$(this).val();"color"&&($("#background_color_hs").css({display:"block"}),$("#background_image_hs").css({display:"none"})),"image"&&($("#background_image_hs").css({display:"block"}),$("#background_color_hs").css({display:"none"}))}),$("#mainstatusOrderBY").change(function(){var a=$(this).val();$("#orderBY").val(a)});